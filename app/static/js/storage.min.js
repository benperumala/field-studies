function storageAvailable(a){try{var b=window[a],c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(a){return!1}}function checkLocalStorage(){return void 0!==Storage||(alert("localStorage is unavailable in this browser. Please try updating it or use Chrome"),!1)}function validateStorage(a){try{localStorageData=JSON.parse(localStorage[a]),localVersion=localStorageData.version}catch(a){localVersion="0"}return console.debug("localStorage version for "+DB_NAME+" is v"+localVersion),localVersion<DB_VERSION?(console.debug("Site DB_VERSION is "+DB_VERSION),console.debug("Clearing localStorage['"+DB_NAME+"']..."),localStorage.removeItem(a),storage={},$.when($.get(PATH_API+"all/"),$.get(PATH_API+"table/")).then(function(b,c){return storage={orgs:b[0],table:c[0],version:DB_VERSION},localStorage[a]=JSON.stringify(storage),console.debug("Updated to v"+DB_VERSION),storage})):localStorageData}
